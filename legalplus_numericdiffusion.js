!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){"use strict";var r=n(1),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function u(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(16),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,s={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(u=n(5)),u),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(i)})),e.exports=s}).call(this,n(15))},function(e,t,n){"use strict";var r=n(0),o=n(17),i=n(2),a=n(19),u=n(22),s=n(23),c=n(6);e.exports=function(e){return new Promise((function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";d.Authorization="Basic "+btoa(h+":"+m)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),i(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,l,r),p=null}},p.onabort=function(){p&&(l(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(24),y=(e.withCredentials||s(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(d[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===f&&(f=null),p.send(f)}))}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(i,(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var u=o.concat(i).concat(a),s=Object.keys(t).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(11),a=n(7);function u(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=u(n(4));s.Axios=i,s.create=function(e){return u(a(s.defaults,e))},s.Cancel=n(8),s.CancelToken=n(25),s.isCancel=n(3),s.all=function(e){return Promise.all(e)},s.spread=n(26),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n(12),a=n(13),u=n(7);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},s.prototype.getUri=function(e){return e=u(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=s},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(14),i=n(3),a=n(4);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(20),o=n(21);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(8);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";n.r(t);var r=n(9),o={baseUrl:"https://numericdiffusion-preprod.legalplus.fr",get apiUrl(){return"".concat(this.baseUrl,"/plugin")},get mediaUrl(){return"".concat(this.baseUrl,"/medias")}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.create,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.apiUrl;if(i(this,e),!t)throw new Error("La clef de l'édition est manquante");this.axios=n({baseURL:a,timeout:5e3,headers:{"X-Legalplus-Tag":t}})}var t,n,u;return t=e,(n=[{key:"getAdverts",value:function(){return this.axios("/advert").then((function(e){return e.data}))}}])&&a(t.prototype,n),u&&a(t,u),e}(),s=new Map([[0,"janvier"],[1,"février"],[2,"mars"],[3,"avril"],[4,"mai"],[5,"juin"],[6,"juillet"],[7,"aout"],[8,"septembre"],[9,"octobre"],[10,"novembre"],[11,"décembre"]]);function c(e){if(!(e instanceof Date))throw new Error("dateHandler::dateToString : Le paramètre passé n'est pas une date");return"".concat(e.getDate()," ").concat(s.get(e.getMonth())," ").concat(e.getFullYear())}var l={dateToString:c,dateIsoToString:function(e){return c(new Date(e))},addDaysToDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(Number(e));return n.setDate(e.getDate()+t),n}};function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={addCategoryFilter:function(e,t){var n=[];e.forEach((function(e){var r=e.categories[0];if(-1==n.indexOf(r)){var o=document.createElement("option");o.text=r,t.add(o),n.push(r)}}))},addDateFilter:function(e,t){var n=[];e.forEach((function(e){var r=new Date(e.publication);if(r=l.dateToString(r),-1==n.indexOf(r)){var o=document.createElement("option");o.text=r,t.add(o),n.push(r)}}))},legalplusFilter:function(){var e,t=document.getElementById("legalplus-filter-categorie").value,n=document.getElementById("legalplus-filter-date").value,r=f(document.getElementsByClassName("legalplus-group"));try{for(r.s();!(e=r.n()).done;){var o=e.value;o.style.display="";var i,a=o.getElementsByClassName("legalplus-numeric-order"),u=0,s=0,c=f(a);try{for(c.s();!(i=c.n()).done;){var l=i.value;l.style.display="",""!=n&&l.dataset.date!=n&&(l.style.display="none",u++),""!=t&&l.dataset.categorie!=t&&(l.style.display="none",s++)}}catch(e){c.e(e)}finally{c.f()}u!=a.length&&s!=a.length||(o.style.display="none")}}catch(e){r.e(e)}finally{r.f()}}};function h(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){var e,t=document.getElementById("legalplus-search-input").value.toLowerCase(),n=h(document.getElementsByClassName("legalplus-group"));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.style.display="";var o,i=r.getElementsByClassName("legalplus-numeric-order"),a=0,u=h(i);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.style.display="";s.childNodes[0].innerHTML;""==t||s.innerHTML.toLowerCase().search(t)>-1||(s.style.display="none",a++)}}catch(e){u.e(e)}finally{u.f()}a==i.length&&(r.style.display="none")}}catch(e){n.e(e)}finally{n.f()}};function v(e,t){var n=document.createElement(e);return t.forEach((function(e){return n.classList.add(e)})),n}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("li");t.classList.add("legalplus-numeric-metadatas-element");var n=document.createElement("span");return n.innerHTML=e,t.appendChild(n),t}function b(e){var t,n,r,o,i,a,u,s,c,f,d,p=v("div",["legalplus-numeric-order"]),h=v("div",["legalplus-numeric-content"]);if(e.categories[0]&&(p.dataset.categorie=e.categories[0]),e.publication){var m=new Date(e.publication);p.dataset.date=l.dateToString(m)}return p.appendChild(function(e){var t=new Date(e.publication),n=l.dateToString(t),r="Publiée le ".concat(n," dans ").concat(e.edition.title),o=document.createElement("div");return o.classList.add("legalplus-numeric-metadatas","legalplus-numeric-metadatas-top"),o.innerHTML=r,o}(e)),(e.header||e.logo)&&h.appendChild(function(e,t){var n=v("div",["legalplus-numeric-header"]);if(t){var r=v("img",["legalplus-numeric-header-logo"]);r.setAttribute("alt","logo"),r.setAttribute("src",t.path),n.appendChild(r)}var o=v("div",["legalplus-header-content"]);return e&&(o.innerHTML=e,n.appendChild(o)),n}(e.header,e.logo)),e.surtitle&&h.appendChild((t=e.surtitle,n=v("div",["legalplus-numeric-surtitle"]),(r=v("span",["legalplus-numeric-surtitle-content"])).innerHTML=t,n.appendChild(r),n)),e.title&&h.appendChild((o=e.title,i=v("div",["legalplus-numeric-title"]),(a=v("span",["legalplus-numeric-title-content"])).innerHTML=o,i.appendChild(a),i)),e.subtitle&&h.appendChild((u=e.subtitle,s=v("div",["legalplus-numeric-subtitle"]),(c=v("span",["legalplus-numeric-subtitle-content"])).innerHTML=u,s.appendChild(c),s)),h.appendChild((f=e.body,(d=v("div",["legalplus-numeric-body"])).innerHTML=f,d)),p.appendChild(h),p.appendChild(function(e){var t=new Date(e.dateEndDisplay),n=l.dateToString(t),r=["Cette annonce sera visible jusqu'au ".concat(n,".")];e.transaction&&r.push("Numéro d'annonce : ".concat(e.transaction));var o=document.createElement("div");o.classList.add("legalplus-numeric-metadatas","legalplus-numeric-metadatas-bottom");var i=document.createElement("ul");return r.map(y).forEach((function(e){i.appendChild(e)})),o.appendChild(i),o}(e)),p}function w(e,t){var n=v("div",["legalplus-group"]);if(t){var r=v("div",["legalplus-group-title"]),o=v("h2",["legalplus-group-title-content"]);/\d{4}-[0-1]\d-[0-3]\d/g.test(t)&&(t=l.dateIsoToString(t)),o.innerHTML=t,r.appendChild(o),n.appendChild(r)}var i=v("div",["legalplus-group-content"]);e.map((function(e){return b(e)})).forEach((function(e){return i.appendChild(e)})),n.appendChild(i),this.push(n)}function E(e){if(!e.categories)throw new Error("L'annonce ".concat(e.uid," n'a pas de catégorie."));return e.categories[0]}function x(e,t,n){return e.get(n(t))||e.set(n(t),[]),e.get(n(t)).push(t),e}function C(e,t){return x(e,t,E)}function S(e){if(!e.publication)throw new Error("L'annonce ".concat(e.uid," n'a pas de date de publication."));var t=new Date(e.publication),n=6e4*t.getTimezoneOffset();return new Date(t.getTime()-n).toISOString().substring(0,10)}function T(e,t){return x(e,t,S)}function A(e,t){return x(e,t,(function(e){return!1}))}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"category":return t.reduce(C,new Map);case"none":return t.reduce(A,new Map);case"date":return t.reduce(T,new Map);default:throw new Error("Type de groupe inconnu : ".concat(e))}};function L(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return-1*e[0].localeCompare(t[0],"fr-FR")}var N=function(e){return function(e,t){return new Map(L(e.entries()).sort(t))}(e,R)};!function(e,t,n,r){var i,a,s=document.getElementById(t),c=document.getElementById(n),l=document.getElementById(r);if(!s)throw new Error("Le conteneur renseigné n'existe pas");new Promise((function(t){return t(function(e){return new u(e)}(e).getAdverts())})).then((function(e){return i=e.properties,a=e.adverts,e})).then((function(e){return function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){var t=Object.assign(e);return e.logo&&(t.logo.path="".concat(o.mediaUrl,"/").concat(e.logo.path)),t}))}(i,e.adverts)})).then((function(e){return j(i.displayMode,e)})).then((function(e){return N(e)})).then((function(e){return t=[],e.forEach(w,t),t;var t})).then((function(e){var t;return t=s,e.forEach((function(e){return t.appendChild(e)})),e})).then((function(e){return function(e){if(null!=e){var t=v("input",["legalplus-search"]);t.setAttribute("id","legalplus-search-input"),t.setAttribute("placeholder","Rechercher..."),t.addEventListener("keyup",g),e.appendChild(t)}}(l),e})).then((function(e){return function(e,t){if(null!=e){var n=v("label",["legalplus-filter-label"]);n.innerText="Filtres pour les annonces",e.appendChild(n);var r=v("select",["legalplus-filter-select"]);r.setAttribute("name","legalplus-filter-date"),r.setAttribute("id","legalplus-filter-date");var o=v("option",["legalplus-filter-option"]);o.text="Veuillez choisir une date",o.value="",o.setAttribute("defaultSelected","true"),r.add(o),p.addDateFilter(t,r),e.appendChild(r);var i=v("select",["legalplus-filter-select"]);i.setAttribute("name","legalplus-filter-categorie"),i.setAttribute("id","legalplus-filter-categorie");var a=v("option",["legalplus-filter-option"]);a.text="Veuillez choisir une catégorie",a.value="",a.setAttribute("defaultSelected","true"),i.add(a),p.addCategoryFilter(t,i),e.appendChild(i);var u=v("button",["legalplus-filter-btn"]);u.setAttribute("id","legalplus-filter-btn"),u.innerText="Filtrer",u.addEventListener("click",p.legalplusFilter),e.appendChild(u)}}(c,a),e})).catch((function(e){throw e}))}(document.currentScript.getAttribute("edition-key"),document.currentScript.getAttribute("container"),document.currentScript.getAttribute("filter-container"),document.currentScript.getAttribute("search-container"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9idWlsZEZ1bGxQYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly8vLi9jb25maWcvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9hcGlIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9kYXRlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZmlsdGVySGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc2VhcmNoSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3ZpZXdHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9ncm91cEFkdmVydHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9vcmRlckdyb3Vwcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0J1ZmZlciIsImNvbnN0cnVjdG9yIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc1N0cmVhbSIsInBpcGUiLCJpc1VSTFNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwibmF2aWdhdG9yIiwicHJvZHVjdCIsIndpbmRvdyIsImRvY3VtZW50IiwibWVyZ2UiLCJyZXN1bHQiLCJhc3NpZ25WYWx1ZSIsImFyZ3VtZW50cyIsImRlZXBNZXJnZSIsImV4dGVuZCIsImEiLCJiIiwidGhpc0FyZyIsInRyaW0iLCJzdHIiLCJyZXBsYWNlIiwiYXJncyIsIkFycmF5IiwiYXBwbHkiLCJ1dGlscyIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInVybCIsInBhcmFtcyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJzZXJpYWxpemVkUGFyYW1zIiwicGFydHMiLCJ2IiwidG9JU09TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwicHVzaCIsImpvaW4iLCJoYXNobWFya0luZGV4IiwiaW5kZXhPZiIsInNsaWNlIiwiX19DQU5DRUxfXyIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsImhlYWRlcnMiLCJhZGFwdGVyIiwiZGVmYXVsdHMiLCJYTUxIdHRwUmVxdWVzdCIsInByb2Nlc3MiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsInRyYW5zZm9ybVJlc3BvbnNlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJzZXR0bGUiLCJidWlsZFVSTCIsImJ1aWxkRnVsbFBhdGgiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsImNvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3QiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwiZnVsbFBhdGgiLCJiYXNlVVJMIiwib3BlbiIsInRvVXBwZXJDYXNlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25hYm9ydCIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJ0aW1lb3V0RXJyb3JNZXNzYWdlIiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJ1bmRlZmluZWQiLCJ0b0xvd2VyQ2FzZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiRXJyb3IiLCJjb25maWcxIiwiY29uZmlnMiIsInZhbHVlRnJvbUNvbmZpZzJLZXlzIiwibWVyZ2VEZWVwUHJvcGVydGllc0tleXMiLCJkZWZhdWx0VG9Db25maWcyS2V5cyIsInByb3AiLCJheGlvc0tleXMiLCJjb25jYXQiLCJvdGhlcktleXMiLCJrZXlzIiwiZmlsdGVyIiwiQ2FuY2VsIiwidGhpcyIsIkF4aW9zIiwibWVyZ2VDb25maWciLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCIsIkludGVyY2VwdG9yTWFuYWdlciIsImRpc3BhdGNoUmVxdWVzdCIsImludGVyY2VwdG9ycyIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImdldFVyaSIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJpZCIsImgiLCJ0cmFuc2Zvcm1EYXRhIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInRocm93SWZSZXF1ZXN0ZWQiLCJyZWFzb24iLCJmbnMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIm5vcm1hbGl6ZWROYW1lIiwiaXNBeGlvc0Vycm9yIiwidG9KU09OIiwiZGVzY3JpcHRpb24iLCJudW1iZXIiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJjb2x1bW5OdW1iZXIiLCJzdGFjayIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInJlcXVlc3RlZFVSTCIsInRlc3QiLCJyZWxhdGl2ZVVSTCIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VkIiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwib3JpZ2luVVJMIiwibXNpZSIsInVzZXJBZ2VudCIsInVybFBhcnNpbmdOb2RlIiwiY3JlYXRlRWxlbWVudCIsInJlc29sdmVVUkwiLCJocmVmIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0Iiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwiZXhlY3V0b3IiLCJUeXBlRXJyb3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwic291cmNlIiwiY2FsbGJhY2siLCJhcnIiLCJiYXNlVXJsIiwiQXBpSGFuZGxlciIsImVkaXRpb25LZXkiLCJfY3JlYXRlIiwiYXBwIiwiYXBpVXJsIiwiY29ycmVzcG9uZGVuY2UiLCJNYXAiLCJkYXRlVG9TdHJpbmciLCJkYXRlIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJkYXRlSXNvVG9TdHJpbmciLCJzdHJJc28iLCJhZGREYXlzVG9EYXRlIiwiZGF5cyIsIk51bWJlciIsInNldERhdGUiLCJhZGRDYXRlZ29yeUZpbHRlciIsImFkdmVydHMiLCJmaWx0ZXJDYXRlZ29yeSIsImFycmF5Q2F0ZWdvcnkiLCJhZHZlcnQiLCJjYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJvcHRpb24iLCJ0ZXh0IiwiYWRkIiwiYWRkRGF0ZUZpbHRlciIsImZpbHRlckRhdGUiLCJhcnJheURhdGUiLCJwdWJsaWNhdGlvbiIsImRhdGVIYW5kbGVyIiwibGVnYWxwbHVzRmlsdGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ3JvdXAiLCJzdHlsZSIsImRpc3BsYXkiLCJjb3VudGVyRGF0ZSIsImNvdW50ZXJDYXRlZ29yeSIsImRhdGFzZXQiLCJjYXRlZ29yaWUiLCJyZWNoZXJjaGUiLCJjb21wdGV1ciIsImNoaWxkTm9kZXMiLCJpbm5lckhUTUwiLCJjcmVhdGVEb21FbGVtZW50IiwidHlwZSIsImNsYXNzZXMiLCJlbGVtZW50IiwieCIsImNsYXNzTGlzdCIsImNyZWF0ZU1ldGFkYXRhRWxlbWVudCIsInBvaW50IiwiY29udGVudCIsImFwcGVuZENoaWxkIiwicmVuZGVyQWR2ZXJ0Iiwic3VydGl0bGVUZXh0Iiwic3VydGl0bGUiLCJzdXJ0aXRsZUNvbnRlbnQiLCJ0aXRsZVRleHQiLCJ0aXRsZUNvbnRlbnQiLCJzdWJ0aXRsZVRleHQiLCJzdWJ0aXRsZSIsInN1YnRpdGxlQ29udGVudCIsImJvZHlDb250ZW50IiwiYm9keSIsIm9yZGVyIiwiY2FudmEiLCJwdWJsaWNhdGlvbkRhdGUiLCJzdHJQdWJsaWNhdGlvbkRhdGUiLCJzaG93ZWREYXRhcyIsImVkaXRpb24iLCJjb250YWluZXIiLCJhZGRBZHZlcnRNZXRhZGF0YXNUb3AiLCJoZWFkZXIiLCJsb2dvIiwiaGVhZGVyVGV4dCIsImRvbUxvZ28iLCJoZWFkZXJDb250ZW50IiwiY3JlYXRlSGVhZGVyIiwiZW5kRGF0ZSIsImRhdGVFbmREaXNwbGF5Iiwic3RyRW5kRGF0ZSIsInRyYW5zYWN0aW9uIiwibGlzdCIsIm1hcCIsImFkZEFkdmVydE1ldGFkYXRhc0JvdHRvbSIsInJlbmRlckFkdmVydEdyb3VwIiwibGFiZWwiLCJhZHZlcnRHcm91cCIsImdyb3VwVGl0bGUiLCJncm91cFRpdGxlQ29udGVudCIsImdyb3VwQ29udGVudCIsImNhdGVnb3J5RGlzY3JpbWluYW50IiwidWlkIiwiZ2VuZXJpY1JlZHVjZXIiLCJwYXlsb2FkIiwic2V0IiwiY2F0ZWdvcnlyZWR1Y2UiLCJwdWJsaWNhdGlvbkRhdGVEaXNjcmltaW5hbnQiLCJ0em9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwiZ2V0VGltZSIsInN1YnN0cmluZyIsInB1YmxpY2F0aW9uRGF0ZVJlZHVjZSIsIm5vR3JvdXBSZWR1Y2UiLCJncm91cEFkdmVydHMiLCJncm91cEJ5Iiwib3JkZXJzIiwicmVkdWNlIiwiYW50aUFscGhhYmV0aWNhbFNvcnQiLCJ5IiwibG9jYWxlQ29tcGFyZSIsIm9yZGVyR3JvdXBzIiwiZ3JvdXBzIiwic29ydCIsImVudHJpZXMiLCJnZW5lcmljYWxPcmRlcmluZyIsImNvbnRhaW5lcklkIiwiZmlsdGVyQ29udGFpbmVySWQiLCJzZWFyY2hDb250YWluZXJJZCIsInByb3BlcnRpZXMiLCJmaWx0ZXJDb250YWluZXIiLCJzZWFyY2hDb250YWluZXIiLCJhcGlIYW5kbGVyIiwiZ2V0QWR2ZXJ0cyIsImFkdmVydENsb25lIiwiYXNzaWduIiwibWVkaWFVcmwiLCJkaXNwYXRjaFByb3BlcnRpZXMiLCJkaXNwbGF5TW9kZSIsImRpdiIsImRvbVNlYXJjaCIsInNlYXJjaElucHV0Iiwic2VhcmNoSGFuZGxlciIsInJlbmRlclNlYXJjaCIsImRvbUZpbHRlciIsImZpbHRlckxhYmVsIiwiaW5uZXJUZXh0IiwiZmlsdGVyU2VsZWN0RGF0ZSIsIm9wdGlvbkRhdGUiLCJmaWx0ZXJIYW5kbGVyIiwiZmlsdGVyU2VsZWN0Q2F0ZWdvcmllIiwib3B0aW9uQ2F0ZWdvcmllIiwiZmlsdGVyQnV0dG9uIiwicmVuZGVyRmlsdGVyIiwiY2F0Y2giLCJsZWdhbHBsdXNSZW5kZXJBZHZlcnRzIiwiY3VycmVudFNjcmlwdCIsImdldEF0dHJpYnV0ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlB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LEVBQWM3SCxrQkFBa0JDLEVBQVM2SCxHQUN6Q04sRUFBVWxGLFlBQVl3RixHQUV0QixJQUFNRSxFQUFlbkcsRUFBaUIsU0FBVSxDQUFDLHlCQUNqRG1HLEVBQWFsTCxhQUFhLEtBQU0sd0JBQ2hDa0wsRUFBYU4sVUFBWSxVQUN6Qk0sRUFBYXBULGlCQUFpQixRQUFTaVQsRUFBYzlHLGlCQUNyRHlHLEVBQVVsRixZQUFZMEYsSUdyTVRDLENBQWF2QixFQUFpQnpHLEdBQWlCelUsS0FDM0QwYyxPQUFNLFNBQUMxVyxHQUFRLE1BQU1BLEtBSTFCMlcsQ0FyRG1CelosU0FBUzBaLGNBQWNDLGFBQWEsZUFDakMzWixTQUFTMFosY0FBY0MsYUFBYSxhQUM5QjNaLFNBQVMwWixjQUFjQyxhQUFhLG9CQUNwQzNaLFNBQVMwWixjQUFjQyxhQUFhIiwiZmlsZSI6ImxlZ2FscGx1c19udW1lcmljZGlmZnVzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI3KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05hdGl2ZVNjcmlwdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05TJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIGVxdWFsIHRvIG1lcmdlIHdpdGggdGhlIGRpZmZlcmVuY2UgYmVpbmcgdGhhdCBubyByZWZlcmVuY2VcbiAqIHRvIG9yaWdpbmFsIG9iamVjdHMgaXMga2VwdC5cbiAqXG4gKiBAc2VlIG1lcmdlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBkZWVwTWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZGVlcE1lcmdlOiBkZWVwTWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuXG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQWNjZXB0Jyk7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgYnVpbGRGdWxsUGF0aCA9IHJlcXVpcmUoJy4uL2NvcmUvYnVpbGRGdWxsUGF0aCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9ICd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCc7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKHRpbWVvdXRFcnJvck1lc3NhZ2UsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cbiAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cbiAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHZhciB2YWx1ZUZyb21Db25maWcyS2V5cyA9IFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddO1xuICB2YXIgbWVyZ2VEZWVwUHJvcGVydGllc0tleXMgPSBbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddO1xuICB2YXIgZGVmYXVsdFRvQ29uZmlnMktleXMgPSBbXG4gICAgJ2Jhc2VVUkwnLCAndXJsJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJywgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLFxuICAgICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJywgJ3NvY2tldFBhdGgnXG4gIF07XG5cbiAgdXRpbHMuZm9yRWFjaCh2YWx1ZUZyb21Db25maWcyS2V5cywgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gobWVyZ2VEZWVwUHJvcGVydGllc0tleXMsIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goZGVmYXVsdFRvQ29uZmlnMktleXMsIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB2YXIgYXhpb3NLZXlzID0gdmFsdWVGcm9tQ29uZmlnMktleXNcbiAgICAuY29uY2F0KG1lcmdlRGVlcFByb3BlcnRpZXNLZXlzKVxuICAgIC5jb25jYXQoZGVmYXVsdFRvQ29uZmlnMktleXMpO1xuXG4gIHZhciBvdGhlcktleXMgPSBPYmplY3RcbiAgICAua2V5cyhjb25maWcyKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQXhpb3NLZXlzKGtleSkge1xuICAgICAgcmV0dXJuIGF4aW9zS2V5cy5pbmRleE9mKGtleSkgPT09IC0xO1xuICAgIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gob3RoZXJLZXlzLCBmdW5jdGlvbiBvdGhlcktleXNEZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9jb3JlL21lcmdlQ29uZmlnJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL21lcmdlQ29uZmlnJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSBhcmd1bWVudHNbMV0gfHwge307XG4gICAgY29uZmlnLnVybCA9IGFyZ3VtZW50c1swXTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gIH1cblxuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gIC8vIFNldCBjb25maWcubWV0aG9kXG4gIGlmIChjb25maWcubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRzLm1ldGhvZCkge1xuICAgIGNvbmZpZy5tZXRob2QgPSB0aGlzLmRlZmF1bHRzLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZy5tZXRob2QgPSAnZ2V0JztcbiAgfVxuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5BeGlvcy5wcm90b3R5cGUuZ2V0VXJpID0gZnVuY3Rpb24gZ2V0VXJpKGNvbmZpZykge1xuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICByZXR1cm4gYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cXD8vLCAnJyk7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAvLyBFbnN1cmUgaGVhZGVycyBleGlzdFxuICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgIGNvbmZpZy5kYXRhLFxuICAgIGNvbmZpZy5oZWFkZXJzLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgLy8gRmxhdHRlbiBoZWFkZXJzXG4gIGNvbmZpZy5oZWFkZXJzID0gdXRpbHMubWVyZ2UoXG4gICAgY29uZmlnLmhlYWRlcnMuY29tbW9uIHx8IHt9LFxuICAgIGNvbmZpZy5oZWFkZXJzW2NvbmZpZy5tZXRob2RdIHx8IHt9LFxuICAgIGNvbmZpZy5oZWFkZXJzXG4gICk7XG5cbiAgdXRpbHMuZm9yRWFjaChcbiAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcbiAgICBmdW5jdGlvbiBjbGVhbkhlYWRlckNvbmZpZyhtZXRob2QpIHtcbiAgICAgIGRlbGV0ZSBjb25maWcuaGVhZGVyc1ttZXRob2RdO1xuICAgIH1cbiAgKTtcblxuICB2YXIgYWRhcHRlciA9IGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXI7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgcmVzcG9uc2UuZGF0YSxcbiAgICAgIHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG4gICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXJyb3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGJhc2VVcmw6IHByb2Nlc3MuZW52LlVSTCB8fCBuZXcgRXJyb3IoJ3ZhcmlhYmxlIEFQSV9VUkwgbm9uIGTDqWZpbmllJyksXG4gIGdldCBhcGlVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuYmFzZVVybH0vcGx1Z2luYDtcbiAgfSxcbiAgZ2V0IG1lZGlhVXJsKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmJhc2VVcmx9L21lZGlhc2A7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGFwcCBmcm9tICcuLi8uLi9jb25maWcvYXBwJztcblxuY2xhc3MgQXBpSGFuZGxlciB7XG4gIC8qKlxuICAgKiBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVkaXRpb25LZXkgQ2xlZiBBUEkgZGUgbCfDqWRpdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IoZWRpdGlvbktleSwgX2NyZWF0ZSA9IGNyZWF0ZSwgdXJsID0gYXBwLmFwaVVybCkge1xuICAgIGlmICghZWRpdGlvbktleSkgdGhyb3cgbmV3IEVycm9yKCdMYSBjbGVmIGRlIGxcXCfDqWRpdGlvbiBlc3QgbWFucXVhbnRlJyk7XG4gICAgdGhpcy5heGlvcyA9IF9jcmVhdGUoe1xuICAgICAgYmFzZVVSTDogdXJsLFxuICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtTGVnYWxwbHVzLVRhZyc6IGVkaXRpb25LZXksXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldEFkdmVydHNcbiAgICpcbiAgICogUmV0b3VybmUgdG91dGVzIGxlcyBhbm5vbmNlcyBhZmZpY2hhYmxlcyBkJ3VuZSDDqWRpdGlvblxuICAgKiBhaW5zaSBxdWUgbGVzIHBhcmFtw6h0cmVzIGQnYWZmaWNoYWdlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqL1xuICBnZXRBZHZlcnRzKCkge1xuICAgIHJldHVybiB0aGlzLmF4aW9zKCcvYWR2ZXJ0JykudGhlbihyID0+IHIuZGF0YSk7XG4gIH1cbn1cblxuY29uc3QgYXBpSGFuZGxlciA9IG51bGw7XG5leHBvcnQgZGVmYXVsdCBrZXkgPT4gYXBpSGFuZGxlciB8fCBuZXcgQXBpSGFuZGxlcihrZXkpO1xuIiwiLypcbiAqIE5PVEUgYXR0ZW50aW9uLCBsZXMgbW9pcyBjb21tZW5jZW50IMOgIDAgcG91ciBqYW52aWVyIGRhbnMgSmF2YXNjcmlwdC5cbiAqIExlIGNvbnN0cnVjdGV1ciBkZSBkYXRlIHBhcnNlIGNvcnJlY3RlbWVudCB1bmUgZGF0ZSBhdSBmb3JtYXQgc3RhbmRhcmRcbiAqICgxMS0wMS0yMDE5ID0+IDExIGphbnZpZXIgMjAxOSkgbWFpcyB1biBnZXRNb250aCgpIGRlIGxhIGRhdGUgcmV0b3VybmVyYSBsZSBjb2RlIGR1IG1vaXMgMC5cbiAqL1xuY29uc3QgY29ycmVzcG9uZGVuY2UgPSBuZXcgTWFwKFtcbiAgWzAsICdqYW52aWVyJ10sXG4gIFsxLCAnZsOpdnJpZXInXSxcbiAgWzIsICdtYXJzJ10sXG4gIFszLCAnYXZyaWwnXSxcbiAgWzQsICdtYWknXSxcbiAgWzUsICdqdWluJ10sXG4gIFs2LCAnanVpbGxldCddLFxuICBbNywgJ2FvdXQnXSxcbiAgWzgsICdzZXB0ZW1icmUnXSxcbiAgWzksICdvY3RvYnJlJ10sXG4gIFsxMCwgJ25vdmVtYnJlJ10sXG4gIFsxMSwgJ2TDqWNlbWJyZSddLFxuXSk7XG5cbi8qKlxuICogYWRkRGF5c1RvRGF0ZVxuICpcbiAqIEFqb3V0ZSB1biBub21icmUgZGUgam91cnMgw6AgdW5lIGRhdGUgZG9ubsOpZVxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSBkYXRlIGRlIGJhc2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXlzIG5vbWJyZSBkZSBqb3Vyc1xuICogQHJldHVybnMge0RhdGV9IG5vdXZlbGxlIGRhdGUgPSBkYXRlIGRlIGJhc2UgKyBub21icmUgZGUgam91cnNcbiAqL1xuZnVuY3Rpb24gYWRkRGF5c1RvRGF0ZShkYXRlLCBkYXlzID0gMCkge1xuICBjb25zdCBkID0gbmV3IERhdGUoTnVtYmVyKGRhdGUpKTtcbiAgZC5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gIHJldHVybiBkO1xufVxuXG4vKipcbiAqIGRhdGVUb1N0cmluZ1xuICpcbiAqIFJldG91cm5lIGxhIGRhdGUgZG9ubsOpZSBzb3VzIGZvcm1lIGRlIGNoYWluZVxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSBkYXRlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBkYXRlIHNvdXMgbGEgZm9ybWUgJ0REIEYgWVlZWSdcbiAqL1xuZnVuY3Rpb24gZGF0ZVRvU3RyaW5nKGRhdGUpIHtcbiAgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVIYW5kbGVyOjpkYXRlVG9TdHJpbmcgOiBMZSBwYXJhbcOodHJlIHBhc3PDqSBuXFwnZXN0IHBhcyB1bmUgZGF0ZScpO1xuICByZXR1cm4gYCR7ZGF0ZS5nZXREYXRlKCl9ICR7Y29ycmVzcG9uZGVuY2UuZ2V0KGRhdGUuZ2V0TW9udGgoKSl9ICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWA7XG59XG5cbi8qKlxuICogZGF0ZUlzb1RvU3RyaW5nXG4gKlxuICogUmV0b3VybmUgdW5lIGNoYWluZSBkYXRlIGRlIHR5cGUgJ1lZWVktTU0tREQnIHNvdXMgZm9ybWUgZGUgY2hhaW5lICdERCBGIFlZWVknXG4gKlxuICogQHBhcmFtIHtEYXRlfSBkYXRlIGRhdGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGRhdGUgc291cyBsYSBmb3JtZSAnREQgRiBZWVlZJ1xuICovXG5mdW5jdGlvbiBkYXRlSXNvVG9TdHJpbmcoc3RySXNvKSB7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShzdHJJc28pO1xuICByZXR1cm4gZGF0ZVRvU3RyaW5nKGRhdGUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IGRhdGVUb1N0cmluZywgZGF0ZUlzb1RvU3RyaW5nLCBhZGREYXlzVG9EYXRlIH07XG4iLCJpbXBvcnQgZGF0ZUhhbmRsZXIgZnJvbSBcIi4vZGF0ZUhhbmRsZXJcIjtcblxuLyoqXG4gKiBhZGREYXRlRmlsdGVyXG4gKlxuICogIGFsaW1lbnRlIGxlcyBvcHRpb25zIHBvdXIgbGUgZmlsdHJlIHBhciBkYXRlXG4gKlxuICogQHBhcmFtIGFkdmVydHNcbiAqIEBwYXJhbSBmaWx0ZXJEYXRlXG4gKi9cbmZ1bmN0aW9uIGFkZERhdGVGaWx0ZXIoYWR2ZXJ0cywgZmlsdGVyRGF0ZSkge1xuICAgIHZhciBhcnJheURhdGUgPSBbXTtcbiAgICBhZHZlcnRzLmZvckVhY2goYWR2ZXJ0ID0+IHtcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShhZHZlcnQucHVibGljYXRpb24pO1xuICAgICAgICBkYXRlID0gZGF0ZUhhbmRsZXIuZGF0ZVRvU3RyaW5nKGRhdGUpO1xuICAgICAgICBpZiAoYXJyYXlEYXRlLmluZGV4T2YoZGF0ZSkgPT0gLTEpIHtcbiAgICAgICAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBkYXRlO1xuICAgICAgICAgICAgZmlsdGVyRGF0ZS5hZGQob3B0aW9uKTtcbiAgICAgICAgICAgIGFycmF5RGF0ZS5wdXNoKGRhdGUpXG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBhZGRDYXRlZ29yeUZpbHRlclxuICpcbiAqIGFsaW1lbnRlIGxlcyBvcHRpb25zIHBvdXIgbGUgZmlsdHJlIHBhciBjYXTDqWdvcmllXG4gKlxuICogQHBhcmFtIGFkdmVydHNcbiAqIEBwYXJhbSBmaWx0ZXJDYXRlZ29yeVxuICovXG5mdW5jdGlvbiBhZGRDYXRlZ29yeUZpbHRlcihhZHZlcnRzLCBmaWx0ZXJDYXRlZ29yeSkge1xuICAgIHZhciBhcnJheUNhdGVnb3J5ID0gW107XG4gICAgYWR2ZXJ0cy5mb3JFYWNoKGFkdmVydCA9PiB7XG4gICAgICAgIHZhciBjYXRlZ29yeSA9IGFkdmVydC5jYXRlZ29yaWVzWzBdO1xuICAgICAgICBpZiAoYXJyYXlDYXRlZ29yeS5pbmRleE9mKGNhdGVnb3J5KSA9PSAtMSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICAgICBvcHRpb24udGV4dCA9IGNhdGVnb3J5O1xuICAgICAgICAgICAgZmlsdGVyQ2F0ZWdvcnkuYWRkKG9wdGlvbik7XG4gICAgICAgICAgICBhcnJheUNhdGVnb3J5LnB1c2goY2F0ZWdvcnkpXG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbGVnYWxwbHVzRmlsdGVyKCkge1xuICAgIHZhciBmaWx0ZXJDYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWdhbHBsdXMtZmlsdGVyLWNhdGVnb3JpZScpLnZhbHVlO1xuICAgIHZhciBmaWx0ZXJEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZ2FscGx1cy1maWx0ZXItZGF0ZScpLnZhbHVlO1xuICAgIHZhciBncm91cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsZWdhbHBsdXMtZ3JvdXAnKTtcblxuICAgIGZvciAobGV0IGdyb3VwIG9mIGdyb3Vwcykge1xuICAgICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIHZhciBhZHZlcnRzID0gZ3JvdXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxlZ2FscGx1cy1udW1lcmljLW9yZGVyXCIpO1xuICAgICAgICB2YXIgY291bnRlckRhdGUgPSAwO1xuICAgICAgICB2YXIgY291bnRlckNhdGVnb3J5ID0gMDtcbiAgICAgICAgZm9yICh2YXIgYWR2ZXJ0IG9mIGFkdmVydHMpIHtcbiAgICAgICAgICAgIGFkdmVydC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICBpZiAoKGZpbHRlckRhdGUgIT0gJycpICYmIChhZHZlcnQuZGF0YXNldC5kYXRlICE9IGZpbHRlckRhdGUpKSB7XG4gICAgICAgICAgICAgICAgYWR2ZXJ0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgY291bnRlckRhdGUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoZmlsdGVyQ2F0ZWdvcnkgIT0gJycpICYmIChhZHZlcnQuZGF0YXNldC5jYXRlZ29yaWUgIT0gZmlsdGVyQ2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgYWR2ZXJ0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgY291bnRlckNhdGVnb3J5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoKGNvdW50ZXJEYXRlID09IGFkdmVydHMubGVuZ3RoKXx8KGNvdW50ZXJDYXRlZ29yeSA9PSBhZHZlcnRzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgYWRkQ2F0ZWdvcnlGaWx0ZXIsIGFkZERhdGVGaWx0ZXIsIGxlZ2FscGx1c0ZpbHRlciB9OyIsIi8qKlxuICogbGVnYWxwbHVzU2VhcmNoXG4gKlxuICogZm9uY3Rpb24gZGUgcmVjaGVyY2hlIGRhbnMgbGEgcGFnZVxuICovXG5mdW5jdGlvbiBsZWdhbHBsdXNTZWFyY2goKSB7XG4gICAgdmFyIHJlY2hlcmNoZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWdhbHBsdXMtc2VhcmNoLWlucHV0JykudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgZ3JvdXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGVnYWxwbHVzLWdyb3VwJyk7XG4gICAgZm9yIChsZXQgZ3JvdXAgb2YgZ3JvdXBzKSB7XG4gICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgdmFyIGFkdmVydHMgPSBncm91cC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGVnYWxwbHVzLW51bWVyaWMtb3JkZXJcIik7XG4gICAgICAgIHZhciBjb21wdGV1ciA9IDA7XG4gICAgICAgIGZvciAodmFyIGFkdmVydCBvZiBhZHZlcnRzKSB7XG4gICAgICAgICAgICBhZHZlcnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhID0gYWR2ZXJ0LmNoaWxkTm9kZXNbMF0uaW5uZXJIVE1MO1xuICAgICAgICAgICAgaWYgKChyZWNoZXJjaGUgIT0nJykgJiYoIShhZHZlcnQuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCkuc2VhcmNoKHJlY2hlcmNoZSkgPiAtMSkpKSB7XG4gICAgICAgICAgICAgICAgYWR2ZXJ0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgY29tcHRldXIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihjb21wdGV1ciA9PSBhZHZlcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgZ3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBsZWdhbHBsdXNTZWFyY2ggfTsiLCJpbXBvcnQgZGF0ZUhhbmRsZXIgZnJvbSAnLi4vdXRpbHMvZGF0ZUhhbmRsZXInO1xuaW1wb3J0IGZpbHRlckhhbmRsZXIgZnJvbSAnLi4vdXRpbHMvZmlsdGVySGFuZGxlcic7XG5pbXBvcnQgc2VhcmNoSGFuZGxlciBmcm9tIFwiLi4vdXRpbHMvc2VhcmNoSGFuZGxlclwiO1xuXG4vKipcbiAqIGNyZWF0ZURvbUVsZW1lbnRcbiAqXG4gKiBDcsOpZSB1biDDqWzDqW1lbnQgRE9NXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBkZSBsJ8OpbMOpbWVudFxuICogQHBhcmFtIHtBcnJheX0gY2xhc3NlcyBDbGFzc2VzIGRlIGwnw6lsw6ltZW50XG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURvbUVsZW1lbnQodHlwZSwgY2xhc3Nlcykge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgY2xhc3Nlcy5mb3JFYWNoKHggPT4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKHgpKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogY3JlYXRlSGVhZGVyXG4gKlxuICogQ3LDqWUgbGUgaGVhZGVyIGQndW5lIGFubm9uY2VcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVyVGV4dCB0ZXh0ZSBkdSBoZWFkZXIsIG51bGxhYmxlXG4gKiBAcGFyYW0ge1N0cmluZ30gbG9nbyBVUkwgZHUgbG9nbywgbnVsbGFibGVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSGVhZGVyKGhlYWRlclRleHQsIGxvZ28pIHtcbiAgY29uc3QgaGVhZGVyID0gY3JlYXRlRG9tRWxlbWVudCgnZGl2JywgWydsZWdhbHBsdXMtbnVtZXJpYy1oZWFkZXInXSk7XG4gIGlmIChsb2dvKSB7XG4gICAgY29uc3QgZG9tTG9nbyA9IGNyZWF0ZURvbUVsZW1lbnQoJ2ltZycsIFsnbGVnYWxwbHVzLW51bWVyaWMtaGVhZGVyLWxvZ28nXSk7XG4gICAgZG9tTG9nby5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdsb2dvJyk7XG4gICAgZG9tTG9nby5zZXRBdHRyaWJ1dGUoJ3NyYycsIGxvZ28ucGF0aCk7XG4gICAgaGVhZGVyLmFwcGVuZENoaWxkKGRvbUxvZ28pO1xuICB9XG4gIGNvbnN0IGhlYWRlckNvbnRlbnQgPSBjcmVhdGVEb21FbGVtZW50KCdkaXYnLCBbJ2xlZ2FscGx1cy1oZWFkZXItY29udGVudCddKTtcbiAgaWYgKGhlYWRlclRleHQpIHtcbiAgICBoZWFkZXJDb250ZW50LmlubmVySFRNTCA9IGhlYWRlclRleHQ7XG4gICAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlckNvbnRlbnQpO1xuICB9XG4gIHJldHVybiBoZWFkZXI7XG59XG5cbi8qKlxuICogY3JlYXRlU3VydGl0bGVcbiAqXG4gKiBDcsOpZSBsZSBzdXJ0aXRsZSBkJ3VuZSBhbm5vbmNlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN1cnRpdGxlVGV4dCB0ZXh0ZSBkdSBzdXJ0aXRyZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVTdXJ0aXRsZShzdXJ0aXRsZVRleHQpIHtcbiAgY29uc3Qgc3VydGl0bGUgPSBjcmVhdGVEb21FbGVtZW50KCdkaXYnLCBbJ2xlZ2FscGx1cy1udW1lcmljLXN1cnRpdGxlJ10pO1xuICBjb25zdCBzdXJ0aXRsZUNvbnRlbnQgPSBjcmVhdGVEb21FbGVtZW50KCdzcGFuJywgWydsZWdhbHBsdXMtbnVtZXJpYy1zdXJ0aXRsZS1jb250ZW50J10pO1xuICBzdXJ0aXRsZUNvbnRlbnQuaW5uZXJIVE1MID0gc3VydGl0bGVUZXh0O1xuICBzdXJ0aXRsZS5hcHBlbmRDaGlsZChzdXJ0aXRsZUNvbnRlbnQpO1xuICByZXR1cm4gc3VydGl0bGU7XG59XG5cbi8qKlxuICogY3JlYXRlVGl0bGVcbiAqXG4gKiBDcsOpZSBsZSB0aXRyZSBkJ3VuZSBhbm5vbmNlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRpdGxlVGV4dCB0ZXh0ZSBkdSB0aXRyZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVUaXRsZSh0aXRsZVRleHQpIHtcbiAgY29uc3QgdGl0bGUgPSBjcmVhdGVEb21FbGVtZW50KCdkaXYnLCBbJ2xlZ2FscGx1cy1udW1lcmljLXRpdGxlJ10pO1xuICBjb25zdCB0aXRsZUNvbnRlbnQgPSBjcmVhdGVEb21FbGVtZW50KCdzcGFuJywgWydsZWdhbHBsdXMtbnVtZXJpYy10aXRsZS1jb250ZW50J10pO1xuICB0aXRsZUNvbnRlbnQuaW5uZXJIVE1MID0gdGl0bGVUZXh0O1xuICB0aXRsZS5hcHBlbmRDaGlsZCh0aXRsZUNvbnRlbnQpO1xuICByZXR1cm4gdGl0bGU7XG59XG5cbi8qKlxuICogY3JlYXRlU3VidGl0bGVcbiAqXG4gKiBDcsOpZSBsZSBzb3VzLXRpdHJlIGQndW5lIGFubm9uY2VcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3VydGl0bGVUZXh0IHRleHRlIGR1IHNvdXMtdGl0cmVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3VidGl0bGUoc3VidGl0bGVUZXh0KSB7XG4gIGNvbnN0IHN1YnRpdGxlID0gY3JlYXRlRG9tRWxlbWVudCgnZGl2JywgWydsZWdhbHBsdXMtbnVtZXJpYy1zdWJ0aXRsZSddKTtcbiAgY29uc3Qgc3VidGl0bGVDb250ZW50ID0gY3JlYXRlRG9tRWxlbWVudCgnc3BhbicsIFsnbGVnYWxwbHVzLW51bWVyaWMtc3VidGl0bGUtY29udGVudCddKTtcbiAgc3VidGl0bGVDb250ZW50LmlubmVySFRNTCA9IHN1YnRpdGxlVGV4dDtcbiAgc3VidGl0bGUuYXBwZW5kQ2hpbGQoc3VidGl0bGVDb250ZW50KTtcbiAgcmV0dXJuIHN1YnRpdGxlO1xufVxuXG4vKipcbiAqIGNyZWF0ZUJvZHlcbiAqXG4gKiBDcsOpZSBsZSBjb3JwcyBkJ3VuZSBhbm5vbmNlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGJvZHlDb250ZW50IHRleHRlIGR1IGNvcnBzIGRlIGwnYW5ub25jZSBlbiBmb3JtYXQgSFRNTC5cbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQm9keShib2R5Q29udGVudCkge1xuICBjb25zdCBib2R5ID0gY3JlYXRlRG9tRWxlbWVudCgnZGl2JywgWydsZWdhbHBsdXMtbnVtZXJpYy1ib2R5J10pO1xuICBib2R5LmlubmVySFRNTCA9IGJvZHlDb250ZW50O1xuICByZXR1cm4gYm9keTtcbn1cblxuLyoqXG4gKiBjcmVhdGVNZXRhZGF0YUVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudCBDaGFpbmUgw6AgYWZmaWNoZXIgZGFucyBsZXMgbcOpdGEtZG9ubsOpZXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gPGxpPlxuICovXG5mdW5jdGlvbiBjcmVhdGVNZXRhZGF0YUVsZW1lbnQoZWxlbWVudCA9ICcnKSB7XG4gIGNvbnN0IHBvaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgcG9pbnQuY2xhc3NMaXN0LmFkZCgnbGVnYWxwbHVzLW51bWVyaWMtbWV0YWRhdGFzLWVsZW1lbnQnKTtcbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgY29udGVudC5pbm5lckhUTUwgPSBlbGVtZW50O1xuICBwb2ludC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgcmV0dXJuIHBvaW50O1xufVxuXG4vKipcbiAqIGFkZEFkdmVydE1ldGFkYXRhc1RvcFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhZHZlcnQgTCdhbm5vbmNlXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IDxkaXY+IGNvbXByZW5hbnQgbGEgbHN0ZSBkZXMgbcOpdGEtZG9ubsOpZXMgw6AgYWZmaWNoZXJcbiAqL1xuZnVuY3Rpb24gYWRkQWR2ZXJ0TWV0YWRhdGFzVG9wKGFkdmVydCkge1xuICAvLyBDYWxjdWwgZGVzIHZhcmlhYmxlcyBhZmZpY2jDqWVzXG4gIGNvbnN0IHB1YmxpY2F0aW9uRGF0ZSA9IG5ldyBEYXRlKGFkdmVydC5wdWJsaWNhdGlvbik7XG4gIGNvbnN0IHN0clB1YmxpY2F0aW9uRGF0ZSA9IGRhdGVIYW5kbGVyLmRhdGVUb1N0cmluZyhwdWJsaWNhdGlvbkRhdGUpO1xuICBjb25zdCBzaG93ZWREYXRhcyA9IGBQdWJsacOpZSBsZSAke3N0clB1YmxpY2F0aW9uRGF0ZX0gZGFucyAke2FkdmVydC5lZGl0aW9uLnRpdGxlfWA7XG4gIC8vIETDqWNsYXJhdGlvbiBkdSBodG1sXG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbGVnYWxwbHVzLW51bWVyaWMtbWV0YWRhdGFzJywnbGVnYWxwbHVzLW51bWVyaWMtbWV0YWRhdGFzLXRvcCcpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gc2hvd2VkRGF0YXM7XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8qKlxuICogYWRkQWR2ZXJ0TWV0YWRhdGFzQm90dG9tXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFkdmVydCBMJ2Fubm9uY2VcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gPGRpdj4gY29tcHJlbmFudCBsYSBsc3RlIGRlcyBtw6l0YS1kb25uw6llcyDDoCBhZmZpY2hlclxuICovXG5mdW5jdGlvbiBhZGRBZHZlcnRNZXRhZGF0YXNCb3R0b20oYWR2ZXJ0KSB7XG4gIC8vIENhbGN1bCBkZXMgdmFyaWFibGVzIGFmZmljaMOpZXNcbiAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKGFkdmVydC5kYXRlRW5kRGlzcGxheSk7XG4gIGNvbnN0IHN0ckVuZERhdGUgPSBkYXRlSGFuZGxlci5kYXRlVG9TdHJpbmcoZW5kRGF0ZSk7XG4gIGNvbnN0IHNob3dlZERhdGFzID0gW1xuICAgIGBDZXR0ZSBhbm5vbmNlIHNlcmEgdmlzaWJsZSBqdXNxdSdhdSAke3N0ckVuZERhdGV9LmAsXG4gIF07XG4gIGlmIChhZHZlcnQudHJhbnNhY3Rpb24pIHNob3dlZERhdGFzLnB1c2goYE51bcOpcm8gZCdhbm5vbmNlIDogJHthZHZlcnQudHJhbnNhY3Rpb259YCk7XG4gIC8vIETDqWNsYXJhdGlvbiBkdSBodG1sXG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbGVnYWxwbHVzLW51bWVyaWMtbWV0YWRhdGFzJywgJ2xlZ2FscGx1cy1udW1lcmljLW1ldGFkYXRhcy1ib3R0b20nKTtcbiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gIHNob3dlZERhdGFzLm1hcChjcmVhdGVNZXRhZGF0YUVsZW1lbnQpLmZvckVhY2goKHgpID0+IHsgbGlzdC5hcHBlbmRDaGlsZCh4KTsgfSk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0KTtcbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiByZW5kZXJBZHZlcnRcbiAqXG4gKiBUcmFuc2Zvcm1lIHVuZSBhbm5vbmNlIGVuIHVuIGJsb2MgSFRNTFxuICpcbiAqIEBwYXJhbSBhZHZlcnRcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQWR2ZXJ0KGFkdmVydCkge1xuICBjb25zdCBvcmRlciA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIFsnbGVnYWxwbHVzLW51bWVyaWMtb3JkZXInXSk7XG4gIGNvbnN0IGNhbnZhID0gY3JlYXRlRG9tRWxlbWVudCgnZGl2JywgWydsZWdhbHBsdXMtbnVtZXJpYy1jb250ZW50J10pO1xuICBpZiAoYWR2ZXJ0LmNhdGVnb3JpZXNbMF0pIG9yZGVyLmRhdGFzZXQuY2F0ZWdvcmllID0gYWR2ZXJ0LmNhdGVnb3JpZXNbMF07XG4gIGlmIChhZHZlcnQucHVibGljYXRpb24pIHtcbiAgICBsZXQgcHVibGljYXRpb25EYXRlID0gbmV3IERhdGUoYWR2ZXJ0LnB1YmxpY2F0aW9uKTtcbiAgICBvcmRlci5kYXRhc2V0LmRhdGUgPSBkYXRlSGFuZGxlci5kYXRlVG9TdHJpbmcocHVibGljYXRpb25EYXRlKTtcbiAgfVxuICBvcmRlci5hcHBlbmRDaGlsZChhZGRBZHZlcnRNZXRhZGF0YXNUb3AoYWR2ZXJ0KSk7XG4gIGlmIChhZHZlcnQuaGVhZGVyIHx8IGFkdmVydC5sb2dvKSBjYW52YS5hcHBlbmRDaGlsZChjcmVhdGVIZWFkZXIoYWR2ZXJ0LmhlYWRlciwgYWR2ZXJ0LmxvZ28pKTtcbiAgaWYgKGFkdmVydC5zdXJ0aXRsZSkgY2FudmEuYXBwZW5kQ2hpbGQoY3JlYXRlU3VydGl0bGUoYWR2ZXJ0LnN1cnRpdGxlKSk7XG4gIGlmIChhZHZlcnQudGl0bGUpIGNhbnZhLmFwcGVuZENoaWxkKGNyZWF0ZVRpdGxlKGFkdmVydC50aXRsZSkpO1xuICBpZiAoYWR2ZXJ0LnN1YnRpdGxlKSBjYW52YS5hcHBlbmRDaGlsZChjcmVhdGVTdWJ0aXRsZShhZHZlcnQuc3VidGl0bGUpKTtcbiAgY2FudmEuYXBwZW5kQ2hpbGQoY3JlYXRlQm9keShhZHZlcnQuYm9keSkpO1xuICBvcmRlci5hcHBlbmRDaGlsZChjYW52YSk7XG4gIG9yZGVyLmFwcGVuZENoaWxkKGFkZEFkdmVydE1ldGFkYXRhc0JvdHRvbShhZHZlcnQpKTtcbiAgcmV0dXJuIG9yZGVyO1xufVxuXG4vKipcbiAqIHJlbmRlckFkdmVydEdyb3VwXG4gKlxuICogQ3LDqWUgbGUgcmVuZHUgRE9NIGQndW4gZ3JvdXBlIGQnYW5ub25jZXNcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhZHZlcnRzIFRhYmxlYXUgZGVzIGFubm9uY2VzIGR1IGdyb3VwZVxuICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsIFRpdHJlIGR1IGdyb3VwZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICovXG5mdW5jdGlvbiByZW5kZXJBZHZlcnRHcm91cChhZHZlcnRzLCBsYWJlbCkge1xuICBjb25zdCBhZHZlcnRHcm91cCA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIFsnbGVnYWxwbHVzLWdyb3VwJ10pO1xuICAvLyBTaSBwYXMgZGUgZ3JvdXBlbWVudFxuICBpZiAobGFiZWwpIHtcbiAgICBjb25zdCBncm91cFRpdGxlID0gY3JlYXRlRG9tRWxlbWVudCgnZGl2JywgWydsZWdhbHBsdXMtZ3JvdXAtdGl0bGUnXSk7XG4gICAgY29uc3QgZ3JvdXBUaXRsZUNvbnRlbnQgPSBjcmVhdGVEb21FbGVtZW50KCdoMicsIFsnbGVnYWxwbHVzLWdyb3VwLXRpdGxlLWNvbnRlbnQnXSk7XG4gICAgaWYgKC9cXGR7NH0tWzAtMV1cXGQtWzAtM11cXGQvZy50ZXN0KGxhYmVsKSkgbGFiZWwgPSBkYXRlSGFuZGxlci5kYXRlSXNvVG9TdHJpbmcobGFiZWwpO1xuICAgIGdyb3VwVGl0bGVDb250ZW50LmlubmVySFRNTCA9IGxhYmVsO1xuICAgIGdyb3VwVGl0bGUuYXBwZW5kQ2hpbGQoZ3JvdXBUaXRsZUNvbnRlbnQpO1xuICAgIGFkdmVydEdyb3VwLmFwcGVuZENoaWxkKGdyb3VwVGl0bGUpO1xuICB9XG4gIGNvbnN0IGdyb3VwQ29udGVudCA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIFsnbGVnYWxwbHVzLWdyb3VwLWNvbnRlbnQnXSk7XG4gIGNvbnN0IGRvbUFkdmVydHMgPSBhZHZlcnRzLm1hcCh4ID0+IHJlbmRlckFkdmVydCh4KSk7XG4gIGRvbUFkdmVydHMuZm9yRWFjaCh4ID0+IGdyb3VwQ29udGVudC5hcHBlbmRDaGlsZCh4KSk7XG4gIGFkdmVydEdyb3VwLmFwcGVuZENoaWxkKGdyb3VwQ29udGVudCk7XG4gIHRoaXMucHVzaChhZHZlcnRHcm91cCk7XG59XG5cbi8qKlxuICogcmVuZGVyRmlsdGVyXG4gKlxuICogSW5zw6hyZSBsZSBjb250ZW51IGRlcyBmaWx0cmVzIGRhbnMgbGEgcGFnZVxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGxlIGNvbnRhaW5lciBwb3VyIGxlcyBmaWx0cmVzXG4gKiBAcGFyYW0ge0FycmF5fSBhZHZlcnRzIFRhYmxlYXUgZGVzIGFubm9uY2VzIGR1IGdyb3VwZVxuICovXG5mdW5jdGlvbiByZW5kZXJGaWx0ZXIoZG9tRmlsdGVyLCBhZHZlcnRzKSB7XG4gIGlmIChudWxsICE9IGRvbUZpbHRlcikge1xuICAgIGNvbnN0IGZpbHRlckxhYmVsID0gY3JlYXRlRG9tRWxlbWVudCgnbGFiZWwnLCBbJ2xlZ2FscGx1cy1maWx0ZXItbGFiZWwnXSk7XG4gICAgZmlsdGVyTGFiZWwuaW5uZXJUZXh0ID0gXCJGaWx0cmVzIHBvdXIgbGVzIGFubm9uY2VzXCI7XG4gICAgZG9tRmlsdGVyLmFwcGVuZENoaWxkKGZpbHRlckxhYmVsKTtcblxuICAgIGNvbnN0IGZpbHRlclNlbGVjdERhdGUgPSBjcmVhdGVEb21FbGVtZW50KCdzZWxlY3QnLCBbJ2xlZ2FscGx1cy1maWx0ZXItc2VsZWN0J10pO1xuICAgIGZpbHRlclNlbGVjdERhdGUuc2V0QXR0cmlidXRlKCduYW1lJywgJ2xlZ2FscGx1cy1maWx0ZXItZGF0ZScpO1xuICAgIGZpbHRlclNlbGVjdERhdGUuc2V0QXR0cmlidXRlKCdpZCcsICdsZWdhbHBsdXMtZmlsdGVyLWRhdGUnKTtcblxuICAgIGNvbnN0IG9wdGlvbkRhdGUgPSBjcmVhdGVEb21FbGVtZW50KCdvcHRpb24nLCBbJ2xlZ2FscGx1cy1maWx0ZXItb3B0aW9uJ10pO1xuICAgIG9wdGlvbkRhdGUudGV4dCA9ICdWZXVpbGxleiBjaG9pc2lyIHVuZSBkYXRlJztcbiAgICBvcHRpb25EYXRlLnZhbHVlPScnO1xuICAgIG9wdGlvbkRhdGUuc2V0QXR0cmlidXRlKCdkZWZhdWx0U2VsZWN0ZWQnLCAndHJ1ZScpO1xuICAgIGZpbHRlclNlbGVjdERhdGUuYWRkKG9wdGlvbkRhdGUpO1xuICAgIGZpbHRlckhhbmRsZXIuYWRkRGF0ZUZpbHRlcihhZHZlcnRzLCBmaWx0ZXJTZWxlY3REYXRlKTtcbiAgICBkb21GaWx0ZXIuYXBwZW5kQ2hpbGQoZmlsdGVyU2VsZWN0RGF0ZSk7XG5cbiAgICBjb25zdCBmaWx0ZXJTZWxlY3RDYXRlZ29yaWUgPSBjcmVhdGVEb21FbGVtZW50KCdzZWxlY3QnLCBbJ2xlZ2FscGx1cy1maWx0ZXItc2VsZWN0J10pO1xuICAgIGZpbHRlclNlbGVjdENhdGVnb3JpZS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnbGVnYWxwbHVzLWZpbHRlci1jYXRlZ29yaWUnKTtcbiAgICBmaWx0ZXJTZWxlY3RDYXRlZ29yaWUuc2V0QXR0cmlidXRlKCdpZCcsJ2xlZ2FscGx1cy1maWx0ZXItY2F0ZWdvcmllJyk7XG5cbiAgICBjb25zdCBvcHRpb25DYXRlZ29yaWUgPSBjcmVhdGVEb21FbGVtZW50KCdvcHRpb24nLCBbJ2xlZ2FscGx1cy1maWx0ZXItb3B0aW9uJ10pO1xuICAgIG9wdGlvbkNhdGVnb3JpZS50ZXh0ID0gJ1ZldWlsbGV6IGNob2lzaXIgdW5lIGNhdMOpZ29yaWUnO1xuICAgIG9wdGlvbkNhdGVnb3JpZS52YWx1ZSA9Jyc7XG4gICAgb3B0aW9uQ2F0ZWdvcmllLnNldEF0dHJpYnV0ZSgnZGVmYXVsdFNlbGVjdGVkJywgJ3RydWUnKTtcbiAgICBmaWx0ZXJTZWxlY3RDYXRlZ29yaWUuYWRkKG9wdGlvbkNhdGVnb3JpZSk7XG4gICAgZmlsdGVySGFuZGxlci5hZGRDYXRlZ29yeUZpbHRlcihhZHZlcnRzLCBmaWx0ZXJTZWxlY3RDYXRlZ29yaWUpO1xuICAgIGRvbUZpbHRlci5hcHBlbmRDaGlsZChmaWx0ZXJTZWxlY3RDYXRlZ29yaWUpO1xuXG4gICAgY29uc3QgZmlsdGVyQnV0dG9uID0gY3JlYXRlRG9tRWxlbWVudCgnYnV0dG9uJywgWydsZWdhbHBsdXMtZmlsdGVyLWJ0biddKTtcbiAgICBmaWx0ZXJCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsICdsZWdhbHBsdXMtZmlsdGVyLWJ0bicpO1xuICAgIGZpbHRlckJ1dHRvbi5pbm5lclRleHQgPSAnRmlsdHJlcic7XG4gICAgZmlsdGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmaWx0ZXJIYW5kbGVyLmxlZ2FscGx1c0ZpbHRlcik7XG4gICAgZG9tRmlsdGVyLmFwcGVuZENoaWxkKGZpbHRlckJ1dHRvbik7XG4gIH1cbn1cblxuLyoqXG4gKiByZW5kZXJTZWFyY2hcbiAqXG4gKiBJbnPDqHJlIGwnaW5wdXQgZGUgcmVjaGVyY2hlIGRhbnMgbGEgcGFnZVxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGxlIGNvbnRhaW5lciBwb3VyIGxhIHJlY2hlcmNoZVxuICovXG5mdW5jdGlvbiByZW5kZXJTZWFyY2goZG9tU2VhcmNoKSB7XG4gIGlmIChudWxsICE9IGRvbVNlYXJjaCkge1xuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gY3JlYXRlRG9tRWxlbWVudCgnaW5wdXQnLCBbJ2xlZ2FscGx1cy1zZWFyY2gnXSk7XG4gICAgc2VhcmNoSW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJsZWdhbHBsdXMtc2VhcmNoLWlucHV0XCIpO1xuICAgIHNlYXJjaElucHV0LnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiUmVjaGVyY2hlci4uLlwiKTtcbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgc2VhcmNoSGFuZGxlci5sZWdhbHBsdXNTZWFyY2ggKTtcbiAgICBkb21TZWFyY2guYXBwZW5kQ2hpbGQoc2VhcmNoSW5wdXQpO1xuICB9XG59XG5cbi8qKlxuICogcmVuZGVyUGFnZVxuICpcbiAqIEluc8OocmUgbGUgcmVuZHUgZGFucyBsJ8OpbMOpbWVudCBET00gY29udGVuZXVyLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRpdiBsZSBjb250YWluZXIgcG91ciBsZXMgYW5ub25jZXNcbiAqIEBwYXJhbSB7TWFwfSBncm91cHMgRW5zZW1ibGUgZGVzIGdyb3VwZXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gcmVuZGVyUGFnZShkaXYsIGdyb3Vwcykge1xuICBncm91cHMuZm9yRWFjaCh4ID0+IGRpdi5hcHBlbmRDaGlsZCh4KSk7XG59XG5cbmV4cG9ydCB7IHJlbmRlckFkdmVydEdyb3VwLCByZW5kZXJQYWdlLCByZW5kZXJTZWFyY2gsIHJlbmRlckZpbHRlciB9O1xuIiwiLyoqXG4gKiBAbW9kdWxlIGdyb3VwQWR2ZXJ0c1xuICpcbiAqIEfDqHJlIGxlIGdyb3VwYWdlIGRlcyBhbm5vbmNlcy5cbiAqL1xuXG4vKipcbiAqIGNhdGVnb3J5RGlzY3JpbWluYW50XG4gKlxuICogUmV0b3VybmUgbGEgY2F0w6lnb3JpZSBhdSBwcmVtaWVyIHBhbGxpZXIgZCd1bmUgYW5ub25jZSAoVkRTLCBtYXJjaMOpLi4uKVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcmRlciBBbm5vbmNlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBDYXTDqWdvcmllXG4gKi9cbmZ1bmN0aW9uIGNhdGVnb3J5RGlzY3JpbWluYW50KG9yZGVyKSB7XG4gIGlmICghb3JkZXIuY2F0ZWdvcmllcykgdGhyb3cgbmV3IEVycm9yKGBMJ2Fubm9uY2UgJHtvcmRlci51aWR9IG4nYSBwYXMgZGUgY2F0w6lnb3JpZS5gKTtcbiAgcmV0dXJuIG9yZGVyLmNhdGVnb3JpZXNbMF07XG59XG5cbi8qKlxuICogZ2VuZXJpY1JlZHVjZXJcbiAqXG4gKiBHw6luw6lyaXNhdGlvbiBkZXMgcsOpZHVjdGV1cnMgZGUgZ3JvdXBhZ2UuXG4gKlxuICogQHBhcmFtIHtNYXB9IHBheWxvYWQgQ2hhcmdlbWVudCBlbiBlbnRyw6llXG4gKiBAcGFyYW0gb3JkZXIge09iamVjdH0gQW5ub25jZVxuICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gRm9uY3Rpb24gZGUgZGlzY3JpbWluYXRpb25cbiAqIEByZXR1cm5zIHtNYXB9XG4gKi9cbmZ1bmN0aW9uIGdlbmVyaWNSZWR1Y2VyKHBheWxvYWQsIG9yZGVyLCBjYWxsYmFjaykge1xuICBpZiAoIXBheWxvYWQuZ2V0KGNhbGxiYWNrKG9yZGVyKSkpIHBheWxvYWQuc2V0KGNhbGxiYWNrKG9yZGVyKSwgW10pO1xuICBwYXlsb2FkLmdldChjYWxsYmFjayhvcmRlcikpLnB1c2gob3JkZXIpO1xuICByZXR1cm4gcGF5bG9hZDtcbn1cblxuLyoqXG4gKiBjYXRlZ29yeXJlZHVjZVxuICpcbiAqIFLDqWR1Y3RldXIgZ3JvdXBhbnQgbGVzIGFubm9uY2VzIHBhciBjYXTDqWdvcmllXG4gKlxuICogQHBhcmFtIHtNYXB9IHBheWxvYWQgQWdyw6lnYXRldXIgZGVzIGFubm9uY2VzIHBhciBjYXTDqWdvcmllXG4gKiBAcGFyYW0ge09iamVjdH0gb3JkZXIgQW5ub25jZS5cbiAqIEByZXR1cm5zIHtNYXB9IEFncsOpZ2F0ZXVyLlxuICovXG5mdW5jdGlvbiBjYXRlZ29yeXJlZHVjZShwYXlsb2FkLCBvcmRlcikge1xuICByZXR1cm4gZ2VuZXJpY1JlZHVjZXIocGF5bG9hZCwgb3JkZXIsIGNhdGVnb3J5RGlzY3JpbWluYW50KTtcbn1cblxuLyoqXG4gKiBwdWJsaWNhdGlvbkRhdGVEaXNjcmltaW5hbnRcbiAqXG4gKiBSZXRvdXJuZSBsYSBkYXRlIGQndW5lIGFubm9uY2UgZm9ybWF0w6llLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcmRlciBBbm5vbmNlXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBEYXRlIGVuIERELU1NLVlZWVlcbiAqL1xuZnVuY3Rpb24gcHVibGljYXRpb25EYXRlRGlzY3JpbWluYW50KG9yZGVyKSB7XG4gIGlmICghb3JkZXIucHVibGljYXRpb24pIHRocm93IG5ldyBFcnJvcihgTCdhbm5vbmNlICR7b3JkZXIudWlkfSBuJ2EgcGFzIGRlIGRhdGUgZGUgcHVibGljYXRpb24uYCk7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShvcmRlci5wdWJsaWNhdGlvbik7XG4gIGxldCB0em9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwOyAvL29mZnNldCBpbiBtaWxsaXNlY29uZHNcbiAgbGV0IGxvY2FsRGF0ZXRpbWUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSAtIHR6b2Zmc2V0KTtcbiAgcmV0dXJuIGxvY2FsRGF0ZXRpbWUudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwxMCk7XG59XG5cbi8qKlxuICogcHVibGljYXRpb25EYXRlUmVkdWNlXG4gKlxuICogUsOpZHVjdGV1ciBkJ3VuIHRhYmxlYXUgZCdhbm5vbmNlIHBhciBkYXRlIGRlIHB1YmxpY2F0aW9uXG4gKlxuICogQHBhcmFtIHtNYXB9IHBheWxvYWQgQWdyw6lnYXRldXIgZGVzIGFubm9uY2VzIHBhciBjYXTDqWdvcmllXG4gKiBAcGFyYW0ge09iamVjdH0gb3JkZXIgQW5ub25jZS5cbiAqIEByZXR1cm5zIHtNYXB9IEFncsOpZ2F0ZXVyLlxuICovXG5mdW5jdGlvbiBwdWJsaWNhdGlvbkRhdGVSZWR1Y2UocGF5bG9hZCwgb3JkZXIpIHtcbiAgcmV0dXJuIGdlbmVyaWNSZWR1Y2VyKHBheWxvYWQsIG9yZGVyLCBwdWJsaWNhdGlvbkRhdGVEaXNjcmltaW5hbnQpO1xufVxuXG5mdW5jdGlvbiBub0dyb3VwUmVkdWNlKHBheWxvYWQsIG9yZGVyKSB7XG4gIHJldHVybiBnZW5lcmljUmVkdWNlcihwYXlsb2FkLCBvcmRlciwgeCA9PiBmYWxzZSk7XG59XG5cbi8qKlxuICogZ3JvdXBBZHZlcnRzXG4gKlxuICogRm9uY3Rpb24gc3Vww6lyaWV1cmUgZHUgZ3JvdXBhZ2UgZGVzIGFubm9uY2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGdyb3VwQnkgTm9tIGR1IGdyb3VwYWdlIGRlbWFuZMOpXG4gKiBAcGFyYW0ge0FycmF5fSBvcmRlcnMgVGFibGVhdSBkZXMgYW5ub25jZXMgw6AgZ3JvdXBlclxuICogQHJldHVybnMge01hcH0gQW5ub25jZXMgdHJpw6llcyBhdSBzZWluIGQndW4gbWFwLlxuICovXG5mdW5jdGlvbiBncm91cEFkdmVydHMoZ3JvdXBCeSA9ICcnLCBvcmRlcnMgPSBbXSkge1xuICBzd2l0Y2ggKGdyb3VwQnkpIHtcbiAgICBjYXNlICdjYXRlZ29yeSc6XG4gICAgICByZXR1cm4gb3JkZXJzLnJlZHVjZShjYXRlZ29yeXJlZHVjZSwgbmV3IE1hcCgpKTtcbiAgICBjYXNlICdub25lJzpcbiAgICAgIHJldHVybiBvcmRlcnMucmVkdWNlKG5vR3JvdXBSZWR1Y2UsIG5ldyBNYXAoKSk7XG4gICAgY2FzZSAnZGF0ZSc6XG4gICAgICByZXR1cm4gb3JkZXJzLnJlZHVjZShwdWJsaWNhdGlvbkRhdGVSZWR1Y2UsIG5ldyBNYXAoKSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSBkZSBncm91cGUgaW5jb25udSA6ICR7Z3JvdXBCeX1gKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBncm91cEFkdmVydHM7XG4iLCIvKipcbiAqIGdlbmVyaWNhbE9yZGVyaW5nXG4gKlxuICogTcOpdGhvZGUgc3Vww6lyaWV1cmUgZGUgdHJpIGQndW4gb2JqZXQgTWFwXG4gKlxuICogUHLDqXZ1IHBvdXIgbGVzICE9IGNhcyBkZSB0cmkgZGVzIGdyb3VwZXMgZCdhbm5vbmNlc1xuICpcbiAqIEBwYXJhbSB7TWFwfSBncm91cHMgZ3JvdXBlcyBkJ2Fubm9uY2VzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzb3J0IGNhbGxiYWNrIGRlIHRyaSBkZXMgZ3JvdXBlc1xuICogQHJldHVybnMge01hcH0gcsOpc3VsdGF0IGR1IHRyaVxuICovXG5mdW5jdGlvbiBnZW5lcmljYWxPcmRlcmluZyhncm91cHMsIHNvcnQpIHtcbiAgcmV0dXJuIG5ldyBNYXAoWy4uLmdyb3Vwcy5lbnRyaWVzKCldLnNvcnQoc29ydCkpO1xufVxuXG4vKipcbiAqIGFudGlBbHBoYWJldGljYWxTb3J0XG4gKlxuICogRm9uY3Rpb24gZGUgdHJpIHBhciBvcmRyZSBjb250cmFpcmUgw6AgbCdvcmRyZSBhbHBoYWLDqXRpcXVlIGRlcyBlbnRyw6llcyBkZSBncm91cGVcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSB4IGNoYW1wIGNsZWYgPT4gdmFsZXVyIGQndW4gTWFwXG4gKiBAcGFyYW0ge0FycmF5fSB5IGF1dHJlIGNoYW1wIGNsZWYgPT4gdmFsZXVyIGQndW4gTWFwXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAxIDAgb3UgLTEgcG91ciBsZSB0cmlcbiAqL1xuZnVuY3Rpb24gYW50aUFscGhhYmV0aWNhbFNvcnQoeCwgeSkge1xuICByZXR1cm4gLTEgKiB4WzBdLmxvY2FsZUNvbXBhcmUoeVswXSwgJ2ZyLUZSJyk7XG59XG5cbi8qKlxuICogb3JkZXJHcm91cHNcbiAqXG4gKiBUcmllIGxlcyBncm91cGVzIGQnYW5ub25jZXMuXG4gKlxuICogUG91ciBsJ2luc3RhbnQgbmUgbGVzIHRyaWUgcXUnZW4gYW50aS1hbHBoYWLDqXRpcXVlLlxuICogQSBsJ2F2ZW5pciwgdW4gcGFyYW3DqHRyZSBkZSB0cmkgcG91cnJhaXQgZXRyZSBham91dMOpIMOgIGxhIGZvbmN0aW9uIHBvdXIgc3RpcHVsZXIgZGlmZsOpcmVudHNcbiAqIHRyaXMuXG4gKlxuICogQHBhcmFtIHtNYXB9IGdyb3VwcyBHcm91cGVzIGQnYW5ub25jZXNcbiAqIEByZXR1cm5zIHtNYXB9IEdyb3VwZXMgZCdhbm5vbmNlcyB0cmnDqXNcbiAqL1xuZnVuY3Rpb24gb3JkZXJHcm91cHMoZ3JvdXBzKSB7XG4gIHJldHVybiBnZW5lcmljYWxPcmRlcmluZyhncm91cHMsIGFudGlBbHBoYWJldGljYWxTb3J0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJHcm91cHM7XG4iLCIvKipcbiAqIEVuZHBvaW50IEpTXG4gKlxuICogUsOpY3Vww6hyZSBsZXMgYW5ub25jZXMgZXQgbGVzIGluamVjdGUgZGFucyBsZSBET01cbiAqXG4gKiBAbW9kdWxlIGluZGV4XG4gKi9cbmltcG9ydCBhcGlIYW5kbGVyIGZyb20gJy4vdXRpbHMvYXBpSGFuZGxlcic7XG5pbXBvcnQge3JlbmRlclNlYXJjaCwgcmVuZGVyQWR2ZXJ0R3JvdXAsIHJlbmRlckZpbHRlciwgcmVuZGVyUGFnZX0gZnJvbSAnLi9saWIvdmlld0dlbmVyYXRvcic7XG5pbXBvcnQgZ3JvdXBBZHZlcnRzIGZyb20gJy4vbGliL2dyb3VwQWR2ZXJ0cyc7XG5pbXBvcnQgb3JkZXJHcm91cHMgZnJvbSAnLi9saWIvb3JkZXJHcm91cHMnO1xuaW1wb3J0IGFwcCBmcm9tICcuLi9jb25maWcvYXBwJztcblxuY29uc3QgZWRpdGlvbktleSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdlZGl0aW9uLWtleScpO1xuY29uc3QgY29udGFpbmVyTmFtZSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdjb250YWluZXInKTtcbmNvbnN0IGZpbHRlckNvbnRhaW5lck5hbWUgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnZmlsdGVyLWNvbnRhaW5lcicpO1xuY29uc3Qgc2VhcmNoQ29udGFpbmVyTmFtZSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdzZWFyY2gtY29udGFpbmVyJyk7XG5cbmZ1bmN0aW9uIHJlbmRlckFkdmVydEdyb3VwcyhtYXApIHtcbiAgY29uc3QgYXJyYXkgPSBbXTtcbiAgbWFwLmZvckVhY2gocmVuZGVyQWR2ZXJ0R3JvdXAsIGFycmF5KTtcbiAgcmV0dXJuIGFycmF5O1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaFByb3BlcnRpZXMocHJvcGVydGllcyA9IHt9LCBhZHZlcnRzID0gW10pIHtcbiAgcmV0dXJuIGFkdmVydHMubWFwKChhZHZlcnQpID0+IHtcbiAgICBjb25zdCBhZHZlcnRDbG9uZSA9IE9iamVjdC5hc3NpZ24oYWR2ZXJ0KTtcbiAgICBpZiAoYWR2ZXJ0LmxvZ28pIGFkdmVydENsb25lLmxvZ28ucGF0aCA9IGAke2FwcC5tZWRpYVVybH0vJHthZHZlcnQubG9nby5wYXRofWA7XG4gICAgcmV0dXJuIGFkdmVydENsb25lO1xuICB9KTtcbn1cblxuLyoqXG4gKiBsZWdhbHBsdXNSZW5kZXJBZHZlcnRzXG4gKlxuICogRm9uY3Rpb24gYXBwZWxsw6llIGRlcHVpcyBsYSBwYWdlIGQnYWZmaWNoYWdlIGh0bWwuXG4gKlxuICogUsOpY3Vww6hyZSBldCBpbmplY3RlIGRhbnMgbGUgRE9NIGxlcyBhbm5vbmNlcyBhZmZpY2hhYmxlcyBkZSBsJ8OpZGl0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgY2xlZiBkZSBsJ8OpZGl0aW9uIMOgIHLDqWN1cMOpcmVyXG4gKiBAcGFyYW0ge1N0cmluZ30gY29udGFpbmVySWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWx0ZXJDb250YWluZXJJZFxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaENvbnRhaW5lcklkXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cbmZ1bmN0aW9uIGxlZ2FscGx1c1JlbmRlckFkdmVydHMoa2V5LCBjb250YWluZXJJZCwgZmlsdGVyQ29udGFpbmVySWQsIHNlYXJjaENvbnRhaW5lcklkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpO1xuICBjb25zdCBmaWx0ZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaWx0ZXJDb250YWluZXJJZCk7XG4gIGNvbnN0IHNlYXJjaENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlYXJjaENvbnRhaW5lcklkKTtcbiAgbGV0IHByb3BlcnRpZXM7XG4gIGxldCBhZHZlcnRzO1xuICBpZiAoIWNvbnRhaW5lcikgdGhyb3cgbmV3IEVycm9yKCdMZSBjb250ZW5ldXIgcmVuc2VpZ27DqSBuXFwnZXhpc3RlIHBhcycpO1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiByZXNvbHZlKGFwaUhhbmRsZXIoa2V5KS5nZXRBZHZlcnRzKCkpKVxuICAgIC50aGVuKChyKSA9PiB7IHByb3BlcnRpZXMgPSByLnByb3BlcnRpZXM7IGFkdmVydHMgPSByLmFkdmVydHM7IHJldHVybiByOyB9KVxuICAgIC50aGVuKHIgPT4gZGlzcGF0Y2hQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIHIuYWR2ZXJ0cykpXG4gICAgLnRoZW4ociA9PiBncm91cEFkdmVydHMocHJvcGVydGllcy5kaXNwbGF5TW9kZSwgcikpXG4gICAgLnRoZW4ociA9PiBvcmRlckdyb3VwcyhyKSlcbiAgICAudGhlbihyID0+IHJlbmRlckFkdmVydEdyb3VwcyhyKSlcbiAgICAudGhlbihyID0+IHsgcmVuZGVyUGFnZShjb250YWluZXIsIHIpOyByZXR1cm4gcjsgfSlcbiAgICAudGhlbihyID0+IHsgcmVuZGVyU2VhcmNoKHNlYXJjaENvbnRhaW5lcik7IHJldHVybiByOyB9KVxuICAgIC50aGVuKHIgPT4geyByZW5kZXJGaWx0ZXIoZmlsdGVyQ29udGFpbmVyLCBhZHZlcnRzKTsgcmV0dXJuIHI7IH0pXG4gICAgLmNhdGNoKChlKSA9PiB7IHRocm93IGU7IH0pO1xufVxuXG4vLyBBcHBlbCBwcmluY2lwYWxcbmxlZ2FscGx1c1JlbmRlckFkdmVydHMoZWRpdGlvbktleSwgY29udGFpbmVyTmFtZSwgZmlsdGVyQ29udGFpbmVyTmFtZSwgc2VhcmNoQ29udGFpbmVyTmFtZSk7Il0sInNvdXJjZVJvb3QiOiIifQ==